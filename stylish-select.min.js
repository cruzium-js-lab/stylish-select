/**
 * Stylish Select
 * @version 0.1.6
 * @author Tony Leung <tony.leung@cruzium.com>
 * @copyright Copyright (c) 2025 Cruzium Digital
 * @license https://opensource.org/license/gpl-3-0/ GPL-3.0-only
 */
"use strict";window.StylishSelect=window.StylishSelect||function(e,t){var s={arrowClass:"stylish-select-caret",hiddenClass:"stylish-select-hidden",placeholderClass:"stylish-select-placeholder",selectClass:void 0,wrapperClass:"stylish-select"};Object.assign(s,t),this.init=function(){if(!("select"!=e.tagName.toLowerCase()||e.hasAttribute("multiple")||e.classList.contains(s.hiddenClass))){e.classList.add(s.hiddenClass),s.selectClass&&e.classList.add(s.selectClass),e.setAttribute("aria-hidden","hidden");var t=document.createElement("div");t.classList.add(s.wrapperClass),e.parentNode.insertBefore(t,e),t.appendChild(e);var i=document.createElement("input");i.setAttribute("type","text"),i.required=e.required,i.readonly=i.disabled=!0,i.classList.add("form-control",s.placeholderClass),e.classList.contains("form-control-sm")&&i.classList.add("form-control-sm"),e.getAttribute("aria-label")&&i.setAttribute("aria-label",e.getAttribute("aria-label")),e.getAttribute("aria-labelledby")&&i.setAttribute("aria-labelledby",e.getAttribute("aria-labelledby")),t.appendChild(i);var a=document.createElement("span");if(a.classList.add(s.arrowClass),t.appendChild(a),this.refresh(),e.addEventListener("change",(function(e){this.refresh()}).bind(this)),e.getAttribute("form"))var l=document.getElementById(e.getAttribute("form"));else var l=e.closest("form");l&&l.addEventListener("reset",(function(e){setTimeout((function(){this.refresh()}).bind(this))}).bind(this)),window.MutationObserver&&new MutationObserver((function(t,s){e.querySelector('option[value="'+cachedValue+'"]')?e.value=cachedValue:(e.selectedIndex=0,this.refresh())}).bind(this)).observe(e,{childList:!0}),e.stylishSelect=this}},this.refresh=function(){if(e.classList.contains(s.hiddenClass)||this.init(),""==e.value)var t="";else var t=e.querySelector('option[value="'+e.value+'"]').textContent.trim();var i=e.parentNode.querySelector("."+s.placeholderClass);i.value=t,e.querySelector('option[value=""]')&&(i.placeholder=e.querySelector('option[value=""]').textContent.trim())},this.init()};